<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3"/>
<title>BRICS_RN_Robust_Navigation_Library(BRICS_RN): Getting started</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">BRICS_RN_Robust_Navigation_Library(BRICS_RN)
   &#160;<span id="projectnumber">0.01</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Getting started </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This page is a brief guide to get the first program running with the BRICS_3D library.</p>
<h1><a class="anchor" id="quickstart_installation"></a>
How to install</h1>
<p>As an overview you will need to satisfy (at least) the required dependencies:</p>
<ol type="1">
<li>Boost 1.37 (or higher)</li>
<li>Eigen2 2.0.13 (or higher, Eigen3 is recommended)</li>
<li>OpenCV 2.0 (or higher)</li>
</ol>
<p>Then compile with:</p>
<div class="fragment"><div class="line">$ mkdir build</div>
<div class="line">$ cd build </div>
<div class="line">$ cmake ..</div>
<div class="line">$ make</div>
<div class="line">$ sudo make install</div>
</div><!-- fragment --><p>Please see the <a class="el" href="installation.html">Installation</a> page for detailed instructions.</p>
<h1><a class="anchor" id="fist_program"></a>
A first program</h1>
<p>Create a file with name hallo_world.cpp and add the following lines:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;core/PointCloud3D.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> <a class="code" href="TrajectoryAdapterNode_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627">main</a>(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv) {</div>
<div class="line">        brics_3d::PointCloud3D* myPointCloud = <span class="keyword">new</span> brics_3d::PointCloud3D();</div>
<div class="line"></div>
<div class="line">        myPointCloud-&gt;addPoint(brics_3d::Point3D(0,0,0));</div>
<div class="line">        myPointCloud-&gt;addPoint(brics_3d::Point3D(1,0,0));</div>
<div class="line">        myPointCloud-&gt;addPoint(brics_3d::Point3D(0,1,0));</div>
<div class="line">        myPointCloud-&gt;addPoint(brics_3d::Point3D(0,0,1));</div>
<div class="line"></div>
<div class="line">        std::cout &lt;&lt; *myPointCloud;</div>
<div class="line"></div>
<div class="line">        <span class="keyword">delete</span> myPointCloud;</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="fist_program_compilation"></a>
Compiling and running the first program</h1>
<p>Create a CMakeLists.txt file that contains the following lines:</p>
<pre class="fragment">CMAKE_MINIMUM_REQUIRED(VERSION 2.6)
PROJECT(BRICS_3D_hallo_world)

SET(CMAKE_MODULE_PATH "${CMAKE_SOURCE_DIR}/external/cmake_modules")
FIND_PACKAGE(BRICS_3D REQUIRED)

# add include directories (-I)
INCLUDE_DIRECTORIES(${BRICS_3D_INCLUDE_DIRS})

# add library directories (-L)
LINK_DIRECTORIES(${BRICS_3D_LINK_DIRECTORIES})

# compile and link the executables 
ADD_EXECUTABLE(hallo_world hallo_world.cpp)
TARGET_LINK_LIBRARIES(hallo_world ${BRICS_3D_LIBRARIES})
</pre><p>Create a subfolder external/cmake_modules and copy over the FindBRICS_3D.cmake file from the BRICS_3D sources. It is located in external/cmake_moduled subfolder too.</p>
<div class="fragment"><div class="line">$ mkdir build</div>
<div class="line">$ cd build </div>
<div class="line">$ cmake ..</div>
<div class="line">$ make</div>
</div><!-- fragment --><p>the you can run the executable via typing:</p>
<div class="fragment"><div class="line">$ ./hello_world</div>
</div><!-- fragment --><p>You should retrieve an output like this:</p>
<pre class="fragment">0 0 0
1 0 0
0 1 0
0 0 1
</pre><h1><a class="anchor" id="fist_program_explanation"></a>
Explanation of the first program</h1>
<p>The header</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;core/PointCloud3D.h&gt;</span> </div>
</div><!-- fragment --><p> includes the point cloud representation used within BRICS_3D. Then an empty point cloud is created by issuing</p>
<div class="fragment"><div class="line">brics_3d::PointCloud3D* myPointCloud = <span class="keyword">new</span> brics_3d::PointCloud3D(); </div>
</div><!-- fragment --><p> This is cloud is then filled with four Cartesian points:</p>
<div class="fragment"><div class="line">myPointCloud-&gt;addPoint(brics_3d::Point3D(0,0,0));</div>
<div class="line">myPointCloud-&gt;addPoint(brics_3d::Point3D(1,0,0));</div>
<div class="line">myPointCloud-&gt;addPoint(brics_3d::Point3D(0,1,0));</div>
<div class="line">myPointCloud-&gt;addPoint(brics_3d::Point3D(0,0,1));</div>
</div><!-- fragment --><p>The point cloud can be then easily print out via streaming to cout:</p>
<div class="fragment"><div class="line">std::cout &lt;&lt; *myPointCloud;             </div>
</div><!-- fragment --><p>Further examples and explanations can be found on the <a class="el" href="examples.html">Examples</a> page.</p>
<h1><a class="anchor" id="advanced_compiling"></a>
Compiling advanced projects</h1>
<p>While the hello world example gives a quick entry into getting the first programm running, one should be aware of the fact that BRICS_3D is partitioned into a chunk of smaller libraries. Each of those libraries might have further dependencies e.g. the visualization class uses OpenSceneGraph (OSG) which in case you want to use the visualization you need to link to your application too.</p>
<p>BRICS_3D consists of the following (sub)libraries:</p>
<ul>
<li><em>brics3d_core</em> The core library that has all the relevant data-types like brics_3d::PointCloud3D and all common code like the brics_3d::Logger for instance.</li>
<li><em>brics3d_algorithm</em> The library that contains 3D perception and modling algorithms as discussed in section in <a class="el" href="introduction.html">Introduction to the used algorithm taxonomy</a>.</li>
<li><em>brics3d_util</em> Utility library with e.g. visualization and benchmarking facilities.</li>
<li><em>brics3d_world_model</em> The 3D world model implementation.</li>
</ul>
<p>The depenency of these libraries are expressed in the following graph diagram. The red nodes reprent the BRICS_3D libraries, while the black nodes indicate the external dependencies. Blue nodes illustrate optional libraries with their dependencies indicated by the dotted lines. In short terms all BRICS_3D libraries depend on <em>brics3d_core</em> while further other external dependencies might be involved.</p>
<div align="center">
<img src="dot_inline_dotgraph_1.png" alt="dot_inline_dotgraph_1.png" border="0" usemap="#dot_inline_dotgraph_1.map"/>
<map name="dot_inline_dotgraph_1.map" id="dot_inline_dotgraph_1.map"></map>
</div>
<p>This structure has inplications on the corretly added and ordered libraries to be linked to the application. While liking BRICS_3D to an application <em>brics_3d_core</em> needs to be linked first (which means it will be supplied to the gcc linker last!). However the <em>FindBRICS_3D.cmake</em> script provides the variable <em>${BRICS_3D_LIBRARIES}</em> containing all BRICS_3D libraries in the correct order.</p>
<p>For a new project that makes use of BRICS_3D it is recommended to follws thees steps:</p>
<ul>
<li>Create a new folder and copy over the external/cmake_modules from BRICS_3D. It contains all relevant CMake scripts to resolve the BRICS_3D and its dependencies.</li>
</ul>
<ul>
<li>Create an approriate top level CMake file as shown below that searches for dependencies and adds them to the include and linker paths.</li>
</ul>
<ul>
<li>Create an executable and link the needed dependencies.</li>
</ul>
<div class="fragment"><div class="line">CMAKE_MINIMUM_REQUIRED(VERSION 2.6)</div>
<div class="line">PROJECT(BRICS_3D_example_application)</div>
<div class="line"></div>
<div class="line">SET(CMAKE_MODULE_PATH &quot;${CMAKE_SOURCE_DIR}/external/cmake_modules<span class="stringliteral">&quot;)</span></div>
<div class="line"><span class="stringliteral"></span></div>
<div class="line"><span class="stringliteral">FIND_PACKAGE(BRICS_3D REQUIRED)</span></div>
<div class="line"><span class="stringliteral">FIND_PACKAGE(Eigen REQUIRED)</span></div>
<div class="line"><span class="stringliteral">FIND_PACKAGE(Boost COMPONENTS thread)</span></div>
<div class="line"><span class="stringliteral">FIND_PACKAGE(OpenCV REQUIRED)</span></div>
<div class="line"><span class="stringliteral">FIND_PACKAGE(OpenSceneGraph COMPONENTS osgGA osgUtil osgViewer) #optional but recommented</span></div>
<div class="line"><span class="stringliteral">FIND_PACKAGE(Xerces) # optional</span></div>
<div class="line"><span class="stringliteral">ADD_DEFINITIONS(-DEIGEN3) # Here we use Eigen3 instead of Eigen2 (recommended)</span></div>
<div class="line"><span class="stringliteral"></span></div>
<div class="line"><span class="stringliteral"># add include directories (-I)</span></div>
<div class="line"><span class="stringliteral">INCLUDE_DIRECTORIES(</span></div>
<div class="line"><span class="stringliteral">        ${BRICS_3D_INCLUDE_DIRS}</span></div>
<div class="line"><span class="stringliteral">        ${EIGEN_INCLUDE_DIRS}</span></div>
<div class="line"><span class="stringliteral">        ${Boost_INCLUDE_DIR}</span></div>
<div class="line"><span class="stringliteral">        ${OPENCV_INCLUDE_DIR}</span></div>
<div class="line"><span class="stringliteral">        ${OPENSCENEGRAPH_INCLUDE_DIRS}</span></div>
<div class="line"><span class="stringliteral">)</span></div>
<div class="line"><span class="stringliteral"></span></div>
<div class="line"><span class="stringliteral"># add library directories (-L)</span></div>
<div class="line"><span class="stringliteral">LINK_DIRECTORIES(</span></div>
<div class="line"><span class="stringliteral">        ${BRICS_3D_LINK_DIRECTORIES}</span></div>
<div class="line"><span class="stringliteral">        ${OpenCV_LINK_DIRECTORIES}</span></div>
<div class="line"><span class="stringliteral">)</span></div>
<div class="line"><span class="stringliteral"></span></div>
<div class="line"><span class="stringliteral"># compile and link the executables </span></div>
<div class="line"><span class="stringliteral">ADD_EXECUTABLE(example_application example_application.cpp)</span></div>
<div class="line"><span class="stringliteral"></span></div>
<div class="line"><span class="stringliteral">TARGET_LINK_LIBRARIES(example_application</span></div>
<div class="line"><span class="stringliteral">        ${BRICS_3D_LIBRARIES}</span></div>
<div class="line"><span class="stringliteral">        ${XERCES_LIBRARIES}</span></div>
<div class="line"><span class="stringliteral">        ${OSG_LIBRARY_DEBUG}</span></div>
<div class="line"><span class="stringliteral">        ${OSGGA_LIBRARY_DEBUG}</span></div>
<div class="line"><span class="stringliteral">        ${OSGVIEWER_LIBRARY_DEBUG}</span></div>
<div class="line"><span class="stringliteral">        ${OpenCV_LIBRARIES}</span></div>
<div class="line"><span class="stringliteral">        ${Boost_LIBRARIES}</span></div>
<div class="line"><span class="stringliteral">)</span></div>
</div><!-- fragment --><h1><a class="anchor" id="linker_troubleshooting"></a>
Troubleshooting linker problems</h1>
<ul>
<li>The BRICS_3D library cannot be found: In case it is not installed to the systems default folders set the following environment varibale: <div class="fragment"><div class="line">export BRICS_3D_DIR=&lt;path_to_brics_3d&gt; </div>
</div><!-- fragment --></li>
</ul>
<ul>
<li>The <em>${BRICS_3D_LIBRARIES}</em> variable remains empty. Clear the CMake cache and retry. </li>
</ul>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Mar 14 2013 10:52:26 for BRICS_RN_Robust_Navigation_Library(BRICS_RN) by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.3
</small></address>
</body>
</html>
