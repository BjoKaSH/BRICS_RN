<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>BRICS_RN_Robust_Navigation_Library(BRICS_RN): Introduction to the world model concept</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.3 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">BRICS_RN_Robust_Navigation_Library(BRICS_RN)&#160;<span id="projectnumber">0.01</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<h1>Introduction to the world model concept </h1>  </div>
</div>
<div class="contents">
<div class="textblock"><h2><a class="anchor" id="worldmodel_intro"></a>
Basic concept</h2>
<p>The world model concept in BRICS_3D is centered around the idea of a <em>scenegraph</em>. Scenegraphs are frequently deployed within the field of the 3D computer vision and 3D gaming. However to make the scenegraph successful in the robotic domain we need to make some adjustments as explained later.</p>
<p>The core idea is to represent a 3D scene as a directed acyclic graph (DAG) of geometrical and hierarchal entities. The edges of the graph represent relations between nodes in the sense of "belongs to". Traveling along a path of edges will produce a hierarchical order of the nodes.</p>
<p>A node is defined as:</p>
<ul>
<li>A leaf in the graph. It can have multiple parent nodes. The <em>root</em> <em>node</em> is a node that has no parents.</li>
<li>Each node has a unique ID. The current implementation uses unsigned integers to represent the IDs. These IDs are also a mean to abstract from pointers and allows identification of nodes beyond the system boundaries of a computer.</li>
<li>Each node has attached attributes. These attributes are stored as a list of key value pairs. This mechanism allows to tag graph entities with e.g. semantic attributes or debug information. However the exact usage and meaning depends on the actually application and requires some kind of convention. The scenegraph offers the flexibility and infrastructure to be able to realize such tagging but it does not interpret any semantics.</li>
</ul>
<div align="center">
<img src="/home/alexey/workspace/BRICS_RN/doc/html/inline_dotgraph_2.dot.png" alt="/home/alexey/workspace/BRICS_RN/doc/html/inline_dotgraph_2.dot" border="0" usemap="#/home/alexey/workspace/BRICS_RN/doc/html/inline_dotgraph_2.dot.map">
<map name="/home/alexey/workspace/BRICS_RN/doc/html/inline_dotgraph_2.dot.map" id="/home/alexey/workspace/BRICS_RN/doc/html/inline_dotgraph_2.dot.map"></map>
</div>
<p>There are two different types of nodes: <em>leaves</em> and <em>inner</em> <em>nodes</em>. Leaves contain the actual 3D data like point clouds or triangle meshes. While running robotic 3D perception applications there will be some intermediate data the will be created and further processed by (cf. <a class="el" href="introduction.html">Introduction to the used algorithm taxonomy</a>) the algorithms. The raw data, the intermediate processing data as well as the "final" resulting data will be stored in leaves within the scene graph. This is in contrast to the 3D computer vision and 3D gaming approach where they typically only load pre-modelled 3D data.</p>
<p>The implementation of BRICS_3D contains a <em>brics_3d::rsg::GeometricNode</em> to store 3D data in leaves. The geometric node is a rather general container for any kind of 3D data subsumed by a <em>Shape</em> class. Possible data ranges from rather primitive shapes like a box or a cylinder to unconstrained geometries like point clouds or meshes. 3D features like spin images for instance are placed in to a geometric node too.</p>
<p>There is a set of inner nodes that can be used to create the certain scene structure.</p>
<ul>
<li><em>brics_3d::rsg::Group</em>: The group is a node that allows for the actual graph relations, as it extends a node to have further child nodes. The group nodes are responsible for memory management. A node "owns" its children - thus it will trigger deletion of its child references when it is deleted. A node will be automatically deleted when it does not have parents any more (except for the root node).</li>
</ul>
<div align="center">
<img src="/home/alexey/workspace/BRICS_RN/doc/html/inline_dotgraph_3.dot.png" alt="/home/alexey/workspace/BRICS_RN/doc/html/inline_dotgraph_3.dot" border="0" usemap="#/home/alexey/workspace/BRICS_RN/doc/html/inline_dotgraph_3.dot.map">
<map name="/home/alexey/workspace/BRICS_RN/doc/html/inline_dotgraph_3.dot.map" id="/home/alexey/workspace/BRICS_RN/doc/html/inline_dotgraph_3.dot.map"></map>
</div>
<ul>
<li><em>brics_3d::rsg::Transform</em>: A transform node is a special group node that expresses a geometric transform between its parents and children. Every transform node along a path will apply a transform i.e. a translational and rotational transform relative to its parents. Thus while traversing a scene graph transform nodes along a path means to apply multiple transforms in a chained-up fashion. In robotic scenarios these transforms tend to change over time. For example the robot is moving in a world frame, dynamic objects are moving in the environment or the links of the a manipulator move while grasping an object of interest. To be able to determine the current velocity of dynamic objects or even make predictions where they will be in near future we need to store (a limited) history of the transforms. Each transform node in the scenegraph stores the data in a cache with associated time stamps. Data that exceeds a certain duration will be deleted. This forms a short-term temporal cache.</li>
</ul>
<div align="center">
<img src="/home/alexey/workspace/BRICS_RN/doc/html/inline_dotgraph_4.dot.png" alt="/home/alexey/workspace/BRICS_RN/doc/html/inline_dotgraph_4.dot" border="0" usemap="#/home/alexey/workspace/BRICS_RN/doc/html/inline_dotgraph_4.dot.map">
<map name="/home/alexey/workspace/BRICS_RN/doc/html/inline_dotgraph_4.dot.map" id="/home/alexey/workspace/BRICS_RN/doc/html/inline_dotgraph_4.dot.map"></map>
</div>
<p>Further information on the implemention can be found in the <a class="el" href="group__sceneGraph.html">Scenegraph</a> section.</p>
<h2><a class="anchor" id="worldmodel_api"></a>
The world model API</h2>
<p>All necessary operations to update or query the data of the scenegraph are gathered in the class brics_3d::rsg::SceneGraphFacade.</p>
<ul>
<li>In particular the interface brics_3d::rsg::ISceneGraphUpdate is dedicated to all update uperations i.e. to add new nodes, delete notes or add/update transforms or 3D data.</li>
<li>The query interface brics_3d::rsg::ISceneGraphQuery allows to get 3D data, transforms or to locate nodes with certein attaced attibute tags. </li>
</ul>
</div></div>
<hr class="footer"/><address class="footer"><small>Generated on Mon Oct 22 2012 16:10:36 for BRICS_RN_Robust_Navigation_Library(BRICS_RN) by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
