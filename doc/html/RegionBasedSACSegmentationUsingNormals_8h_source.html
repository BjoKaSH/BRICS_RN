<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>BRICS_3D_Perception_and_Modeling_Library(BRICS_3D): src/brics_3d/algorithm/segmentation/RegionBasedSACSegmentationUsingNormals.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.3 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">BRICS_3D_Perception_and_Modeling_Library(BRICS_3D)&#160;<span id="projectnumber">0.3</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<h1>src/brics_3d/algorithm/segmentation/RegionBasedSACSegmentationUsingNormals.h</h1>  </div>
</div>
<div class="contents">
<a href="RegionBasedSACSegmentationUsingNormals_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/******************************************************************************</span>
<a name="l00002"></a>00002 <span class="comment"> * BRICS_3D - 3D Perception and Modeling Library</span>
<a name="l00003"></a>00003 <span class="comment"> * Copyright (c) 2011, GPS GmbH</span>
<a name="l00004"></a>00004 <span class="comment"> *</span>
<a name="l00005"></a>00005 <span class="comment"> * Author: Pinaki Sunil Banerjee</span>
<a name="l00006"></a>00006 <span class="comment"> *</span>
<a name="l00007"></a>00007 <span class="comment"> *</span>
<a name="l00008"></a>00008 <span class="comment"> * This software is published under a dual-license: GNU Lesser General Public</span>
<a name="l00009"></a>00009 <span class="comment"> * License LGPL 2.1 and Modified BSD license. The dual-license implies that</span>
<a name="l00010"></a>00010 <span class="comment"> * users of this code may choose which terms they prefer.</span>
<a name="l00011"></a>00011 <span class="comment"> *</span>
<a name="l00012"></a>00012 <span class="comment"> * This program is distributed in the hope that it will be useful,</span>
<a name="l00013"></a>00013 <span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00014"></a>00014 <span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the</span>
<a name="l00015"></a>00015 <span class="comment"> * GNU Lesser General Public License LGPL and the BSD license for</span>
<a name="l00016"></a>00016 <span class="comment"> * more details.</span>
<a name="l00017"></a>00017 <span class="comment"> *</span>
<a name="l00018"></a>00018 <span class="comment"> ******************************************************************************/</span>
<a name="l00019"></a>00019 
<a name="l00020"></a>00020 <span class="preprocessor">#ifndef BRICS_3D_REGIONBASEDSACSEGMENTATIONUSINGNORMALS_H_</span>
<a name="l00021"></a>00021 <span class="preprocessor"></span><span class="preprocessor">#define BRICS_3D_REGIONBASEDSACSEGMENTATIONUSINGNORMALS_H_</span>
<a name="l00022"></a>00022 <span class="preprocessor"></span>
<a name="l00023"></a>00023 <span class="preprocessor">#include &lt;vector&gt;</span>
<a name="l00024"></a>00024 <span class="preprocessor">#include &lt;Eigen/Geometry&gt;</span>
<a name="l00025"></a>00025 <span class="preprocessor">#include &quot;brics_3d/core/NormalSet3D.h&quot;</span>
<a name="l00026"></a>00026 <span class="preprocessor">#include &quot;<a class="code" href="RegionBasedSACSegmentation_8h.html">RegionBasedSACSegmentation.h</a>&quot;</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include &quot;brics_3d/algorithm/segmentation/objectModels/ObjectModelCylinder.h&quot;</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include &quot;brics_3d/algorithm/segmentation/objectModels/ObjectModelNormalPlane.h&quot;</span>
<a name="l00029"></a>00029 
<a name="l00030"></a>00030 
<a name="l00031"></a>00031 <span class="keyword">namespace </span>brics_3d {
<a name="l00032"></a>00032 
<a name="l00037"></a>00037 <span class="keyword">class </span>RegionBasedSACSegmentationUsingNormals : <span class="keyword">public</span> RegionBasedSACSegmentation{
<a name="l00038"></a><a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html">00038</a> 
<a name="l00039"></a>00039 <span class="keyword">private</span>:
<a name="l00040"></a>00040 
<a name="l00042"></a>00042         <a class="code" href="classbrics__3d_1_1IObjectModelUsingNormals.html">IObjectModelUsingNormals</a> *<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a93820469bed7b739ad59a870511dc143" title="The point normal based object model to be searched for in its parametric form.">objectModelUsingNormals</a>;
<a name="l00043"></a><a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a93820469bed7b739ad59a870511dc143">00043</a> 
<a name="l00045"></a>00045         <span class="keywordtype">double</span> <a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a6b0dd6525ba7a1a81411938508d5697f" title="Minimum and maximum radius allowable for the models.">radiusMin</a>, <a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a81827bd86f810210680352a7300a2f70">radiusMax</a>;
<a name="l00046"></a><a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a6b0dd6525ba7a1a81411938508d5697f">00046</a> 
<a name="l00050"></a>00050         <span class="keywordtype">double</span> <a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#ac377d15ac9f17e5cd85dae72e92b8ff4" title="The relative weight (between 0 and 1) to corresponding to angular distance between point normals and ...">normalDistanceWeight</a>;
<a name="l00051"></a><a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#ac377d15ac9f17e5cd85dae72e92b8ff4">00051</a> 
<a name="l00053"></a>00053         <a class="code" href="classbrics__3d_1_1NormalSet3D.html" title="Class to represent a set of 3D normals.">NormalSet3D</a> *<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#afa6aea4c89fdd9ed0a76688608366d73" title="A pointer to the vector of normals.">normalSet</a>;
<a name="l00054"></a><a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#afa6aea4c89fdd9ed0a76688608366d73">00054</a> 
<a name="l00056"></a>00056         Eigen::Vector3d <a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a4d16b9b4476c396351f8b27807d32432" title="Axis along which we need to search for a model perpendicular to.">axis</a>;
<a name="l00057"></a><a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a4d16b9b4476c396351f8b27807d32432">00057</a> 
<a name="l00059"></a>00059         <span class="keywordtype">double</span> <a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a02838b21fc1c865dc57a7b4bbc83402e" title="The maximum angle between the model normal and the given axis.">epsAngle</a>;
<a name="l00060"></a><a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a02838b21fc1c865dc57a7b4bbc83402e">00060</a> 
<a name="l00061"></a>00061 <span class="keyword">public</span>:
<a name="l00062"></a>00062 
<a name="l00063"></a>00063         <span class="keyword">const</span> <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a3a5c04153206131182e9d9cc33b620a2">OBJMODEL_CYLINDER</a> = 4;
<a name="l00064"></a><a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a3a5c04153206131182e9d9cc33b620a2">00064</a>         <span class="keyword">const</span> <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a55d5462dd4728fa10e9c9b1e6d99f674">OBJMODEL_NORMAL_PLANE</a> = 7;
<a name="l00065"></a><a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a55d5462dd4728fa10e9c9b1e6d99f674">00065</a> 
<a name="l00066"></a>00066         <a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#ae761ab2fe7427cf9a98e4fea63b2e1db">RegionBasedSACSegmentationUsingNormals</a>(){
<a name="l00067"></a><a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#ae761ab2fe7427cf9a98e4fea63b2e1db">00067</a>                 this-&gt;<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentation.html#a372c7d4a508aa8ef3b1455b7748b2b7f" title="Threshold distance to model.">threshold</a> = -1;
<a name="l00068"></a>00068                 this-&gt;<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentation.html#aa88d49cdf6ef5c5f4b4b7e489cf61b3b" title="Maximum number of iterations for model estimation.">maxIterations</a> = 10000;
<a name="l00069"></a>00069                 this-&gt;<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentation.html#ae1183e4c1120eeacbc086a8b2038e24c" title="Probability of choosing at least one sample free from outliers.">probability</a> = 0.99;
<a name="l00070"></a>00070                 this-&gt;<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a81827bd86f810210680352a7300a2f70">radiusMax</a>=DBL_MAX;
<a name="l00071"></a>00071                 this-&gt;<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a6b0dd6525ba7a1a81411938508d5697f" title="Minimum and maximum radius allowable for the models.">radiusMin</a>=-DBL_MAX;
<a name="l00072"></a>00072                 this-&gt;<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#ac377d15ac9f17e5cd85dae72e92b8ff4" title="The relative weight (between 0 and 1) to corresponding to angular distance between point normals and ...">normalDistanceWeight</a> = 0.1;
<a name="l00073"></a>00073                 this-&gt;<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a02838b21fc1c865dc57a7b4bbc83402e" title="The maximum angle between the model normal and the given axis.">epsAngle</a>=0.0;
<a name="l00074"></a>00074         };
<a name="l00075"></a>00075 
<a name="l00076"></a>00076         <a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a0260cb3ffac3e67ad7045a0a85f32db3">~RegionBasedSACSegmentationUsingNormals</a>(){};
<a name="l00077"></a><a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a0260cb3ffac3e67ad7045a0a85f32db3">00077</a> 
<a name="l00078"></a>00078 
<a name="l00082"></a>00082         <span class="keyword">inline</span> <span class="keywordtype">void</span>
<a name="l00083"></a>00083         <a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a971f17849f69c5391141811b9af9189d" title="Set the pointer to the normal-set for the corresponding input point cloud.">setInputNormals</a> (<a class="code" href="classbrics__3d_1_1NormalSet3D.html" title="Class to represent a set of 3D normals.">NormalSet3D</a> *<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#afa6aea4c89fdd9ed0a76688608366d73" title="A pointer to the vector of normals.">normalSet</a>)
<a name="l00084"></a><a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a971f17849f69c5391141811b9af9189d">00084</a>         {
<a name="l00085"></a>00085                 this-&gt;normalSet = <a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#afa6aea4c89fdd9ed0a76688608366d73" title="A pointer to the vector of normals.">normalSet</a>;
<a name="l00086"></a>00086         }
<a name="l00087"></a>00087 
<a name="l00088"></a>00088 
<a name="l00092"></a>00092         <span class="keyword">inline</span> <a class="code" href="classbrics__3d_1_1NormalSet3D.html" title="Class to represent a set of 3D normals.">NormalSet3D</a>*
<a name="l00093"></a>00093         <a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a500497f34a592573221c6eb2a7fce433" title="Get a pointer to brics_3d::NOrmalSet3D for input point cloud being segmented.">getInputNormals</a> ()
<a name="l00094"></a><a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a500497f34a592573221c6eb2a7fce433">00094</a>         {
<a name="l00095"></a>00095                 <span class="keywordflow">return</span> (this-&gt;<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#afa6aea4c89fdd9ed0a76688608366d73" title="A pointer to the vector of normals.">normalSet</a>);
<a name="l00096"></a>00096         }
<a name="l00097"></a>00097 
<a name="l00098"></a>00098 
<a name="l00103"></a>00103         <span class="keyword">inline</span> <span class="keywordtype">void</span>
<a name="l00104"></a>00104         <a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a5f4a170272ec4056544c701e09e5976c" title="Set the relative weight variable indicating the angular distance between point normals and the plane ...">setNormalDistanceWeight</a> (<span class="keywordtype">double</span> distanceWeight)
<a name="l00105"></a><a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a5f4a170272ec4056544c701e09e5976c">00105</a>         {
<a name="l00106"></a>00106                 this-&gt;<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#ac377d15ac9f17e5cd85dae72e92b8ff4" title="The relative weight (between 0 and 1) to corresponding to angular distance between point normals and ...">normalDistanceWeight</a> = distanceWeight;
<a name="l00107"></a>00107         }
<a name="l00108"></a>00108 
<a name="l00109"></a>00109 
<a name="l00112"></a>00112         <span class="keyword">inline</span> <span class="keywordtype">double</span>
<a name="l00113"></a>00113         <a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#ad380550b7bc461f5761cf4b97a402536" title="Get the relative weight variable indicating the angular distance between point normals and the plane ...">getNormalDistanceWeight</a> ()
<a name="l00114"></a><a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#ad380550b7bc461f5761cf4b97a402536">00114</a>         {
<a name="l00115"></a>00115                 <span class="keywordflow">return</span> (this-&gt;<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#ac377d15ac9f17e5cd85dae72e92b8ff4" title="The relative weight (between 0 and 1) to corresponding to angular distance between point normals and ...">normalDistanceWeight</a>);
<a name="l00116"></a>00116         }
<a name="l00117"></a>00117 
<a name="l00118"></a>00118 
<a name="l00122"></a>00122         <span class="keyword">inline</span> <span class="keywordtype">void</span>
<a name="l00123"></a>00123         <a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a498558d27723c73f0ee8c8680e3640ee" title="Set the axis along which we need to search for a model perpendicular to.">setAxis</a> (<span class="keyword">const</span> Eigen::Vector3d &amp;<a class="code" href="namespacebrics__3d.html#a5fdb03eec9c29d0bad60c9627fb42df8">axis</a>)
<a name="l00124"></a><a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a498558d27723c73f0ee8c8680e3640ee">00124</a>         {
<a name="l00125"></a>00125                 this-&gt;axis = <a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a4d16b9b4476c396351f8b27807d32432" title="Axis along which we need to search for a model perpendicular to.">axis</a>;
<a name="l00126"></a>00126         }
<a name="l00127"></a>00127 
<a name="l00128"></a>00128 
<a name="l00130"></a>00130         <span class="keyword">inline</span> Eigen::Vector3d
<a name="l00131"></a>00131         <a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a1f5d85f9394075db6a44bd45ffec6592" title="Get the axis along which we need to search for a model perpendicular to.">getAxis</a> ()
<a name="l00132"></a><a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a1f5d85f9394075db6a44bd45ffec6592">00132</a>         {
<a name="l00133"></a>00133                 <span class="keywordflow">return</span> (this-&gt;<a class="code" href="namespacebrics__3d.html#a5fdb03eec9c29d0bad60c9627fb42df8">axis</a>);
<a name="l00134"></a>00134         }
<a name="l00135"></a>00135 
<a name="l00136"></a>00136 
<a name="l00140"></a>00140         <span class="keyword">inline</span> <span class="keywordtype">void</span>
<a name="l00141"></a>00141         <a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a60cb0aea68375c0146cb4db3697dc9c2" title="Set the angle epsilon (delta) threshold.">setEpsAngle</a> (<span class="keywordtype">double</span> epAngle)
<a name="l00142"></a><a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a60cb0aea68375c0146cb4db3697dc9c2">00142</a>         {
<a name="l00143"></a>00143                 this-&gt;<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a02838b21fc1c865dc57a7b4bbc83402e" title="The maximum angle between the model normal and the given axis.">epsAngle</a> = epAngle;
<a name="l00144"></a>00144         }
<a name="l00145"></a>00145 
<a name="l00146"></a>00146 
<a name="l00148"></a>00148         <span class="keyword">inline</span> <span class="keywordtype">double</span>
<a name="l00149"></a>00149         <a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a25dcc5a37cfc7a47deefdc3e1a1b50dd" title="Get the angle threshold between the given axis and the model-normal.">getEpsAngle</a> ()
<a name="l00150"></a><a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a25dcc5a37cfc7a47deefdc3e1a1b50dd">00150</a>         {
<a name="l00151"></a>00151                 <span class="keywordflow">return</span> (this-&gt;<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a02838b21fc1c865dc57a7b4bbc83402e" title="The maximum angle between the model normal and the given axis.">epsAngle</a>);
<a name="l00152"></a>00152         }
<a name="l00153"></a>00153 
<a name="l00154"></a>00154 
<a name="l00155"></a>00155 
<a name="l00160"></a>00160         <span class="keyword">inline</span> <span class="keywordtype">void</span>
<a name="l00161"></a>00161         <a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a3f17b2e03e628aac4f109958ede72ac1" title="Set the minimum and maximum radius allowable for models including a radius value.">setRadiusLimits</a> (<span class="keyword">const</span> <span class="keywordtype">double</span> &amp;minRadius, <span class="keyword">const</span> <span class="keywordtype">double</span> &amp;maxRadius)
<a name="l00162"></a><a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a3f17b2e03e628aac4f109958ede72ac1">00162</a>         {
<a name="l00163"></a>00163                 <a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a6b0dd6525ba7a1a81411938508d5697f" title="Minimum and maximum radius allowable for the models.">radiusMin</a> = minRadius;
<a name="l00164"></a>00164                 <a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a81827bd86f810210680352a7300a2f70">radiusMax</a> = maxRadius;
<a name="l00165"></a>00165         }
<a name="l00166"></a>00166 
<a name="l00167"></a>00167 
<a name="l00168"></a>00168 
<a name="l00172"></a>00172         <span class="keyword">inline</span> <span class="keywordtype">bool</span>
<a name="l00173"></a>00173         <a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#aebe6148cda00803c90eb81f2193c6c74" title="Initialize the Sample Consensus model and set its parameters.">initSACModel</a> (<span class="keyword">const</span> <span class="keywordtype">int</span> model_type)
<a name="l00174"></a><a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#aebe6148cda00803c90eb81f2193c6c74">00174</a>         {
<a name="l00175"></a>00175                 <span class="comment">//Check if input is synced with the normals</span>
<a name="l00176"></a>00176                 <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classbrics__3d_1_1ISegmentation.html#a45d0d2aff3d94e05345b574b0c2052d3" title="The input point-cloud to be processed.">inputPointCloud</a>-&gt;<a class="code" href="classbrics__3d_1_1PointCloud3D.html#a7f8822b31d8a3b1f7be9722c1a7c698f" title="Get the number of points in the point cloud.">getSize</a>() != this-&gt;<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#afa6aea4c89fdd9ed0a76688608366d73" title="A pointer to the vector of normals.">normalSet</a>-&gt;<a class="code" href="classbrics__3d_1_1NormalSet3D.html#a61fff0da4d8d16c9f698ffd49a1f7d0a" title="Get the number of normals in the normal set.">getSize</a>())
<a name="l00177"></a>00177                 {
<a name="l00178"></a>00178                         cout&lt;&lt;<span class="stringliteral">&quot;[SAC Segmentation] The number of points inthe input point cloud differs than the number of points in the normals!&quot;</span>;
<a name="l00179"></a>00179                         <span class="keywordflow">return</span> (<span class="keyword">false</span>);
<a name="l00180"></a>00180                 }
<a name="l00181"></a>00181 
<a name="l00182"></a>00182                 <span class="comment">// Build the model</span>
<a name="l00183"></a>00183                 <span class="keywordflow">switch</span> (model_type)
<a name="l00184"></a>00184                 {
<a name="l00185"></a>00185                 <span class="keywordflow">case</span> <a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a3a5c04153206131182e9d9cc33b620a2">OBJMODEL_CYLINDER</a>:
<a name="l00186"></a>00186                 {
<a name="l00187"></a>00187                         cout&lt;&lt;<span class="stringliteral">&quot;[SAC Segmentation] Using a model of type: OBJMODEL_CYLINDER&quot;</span>&lt;&lt;endl;
<a name="l00188"></a>00188 
<a name="l00189"></a>00189                         this-&gt;<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a93820469bed7b739ad59a870511dc143" title="The point normal based object model to be searched for in its parametric form.">objectModelUsingNormals</a> =  <span class="keyword">new</span> <a class="code" href="classbrics__3d_1_1ObjectModelCylinder.html">ObjectModelCylinder</a>();
<a name="l00190"></a>00190                         this-&gt;<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a93820469bed7b739ad59a870511dc143" title="The point normal based object model to be searched for in its parametric form.">objectModelUsingNormals</a>-&gt;<a class="code" href="classbrics__3d_1_1IObjectModel.html#a8dcb1324f2d9fe4a53b4af654fd42b7d" title="Provide a pointer to the input dataset.">setInputCloud</a>(this-&gt;<a class="code" href="classbrics__3d_1_1ISegmentation.html#a45d0d2aff3d94e05345b574b0c2052d3" title="The input point-cloud to be processed.">inputPointCloud</a>);
<a name="l00191"></a>00191                         this-&gt;<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a93820469bed7b739ad59a870511dc143" title="The point normal based object model to be searched for in its parametric form.">objectModelUsingNormals</a>-&gt;<a class="code" href="classbrics__3d_1_1IObjectModelUsingNormals.html#a4bb6bde6ed6b30c738aa934b617e0762" title="Set the pointer to the normal-set for the corresponding input point cloud.">setInputNormals</a>(this-&gt;<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#afa6aea4c89fdd9ed0a76688608366d73" title="A pointer to the vector of normals.">normalSet</a>);
<a name="l00192"></a>00192 
<a name="l00193"></a>00193                         <span class="comment">// Set the input normals</span>
<a name="l00194"></a>00194                         <span class="keywordtype">double</span> min_radius, max_radius;
<a name="l00195"></a>00195                         this-&gt;<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a93820469bed7b739ad59a870511dc143" title="The point normal based object model to be searched for in its parametric form.">objectModelUsingNormals</a>-&gt;<a class="code" href="classbrics__3d_1_1IObjectModel.html#a74876b0de297040f32013772670883fe" title="Get the minimum and maximum allowable radius limits for the model as set by the user.">getRadiusLimits</a>(min_radius,max_radius);
<a name="l00196"></a>00196                         <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a6b0dd6525ba7a1a81411938508d5697f" title="Minimum and maximum radius allowable for the models.">radiusMin</a> != min_radius &amp;&amp; this-&gt;<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a81827bd86f810210680352a7300a2f70">radiusMax</a>!= max_radius)
<a name="l00197"></a>00197                         {
<a name="l00198"></a>00198                                 cout&lt;&lt;<span class="stringliteral">&quot;[SAC Segmentation] Setting radius limits to &quot;</span>&lt;&lt; this-&gt;<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a6b0dd6525ba7a1a81411938508d5697f" title="Minimum and maximum radius allowable for the models.">radiusMin</a>&lt;&lt; <span class="stringliteral">&quot;, &quot;</span>&lt;&lt;this-&gt;<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a81827bd86f810210680352a7300a2f70">radiusMax</a>&lt;&lt;endl;
<a name="l00199"></a>00199                                 this-&gt;<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a93820469bed7b739ad59a870511dc143" title="The point normal based object model to be searched for in its parametric form.">objectModelUsingNormals</a>-&gt;<a class="code" href="classbrics__3d_1_1IObjectModel.html#a9b8527e4414bd3062b2c00e39a9d4662" title="Set the minimum and maximum allowable radius limits for the model (applicable to models that estimate...">setRadiusLimits</a> (this-&gt;<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a6b0dd6525ba7a1a81411938508d5697f" title="Minimum and maximum radius allowable for the models.">radiusMin</a>, this-&gt;<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a81827bd86f810210680352a7300a2f70">radiusMax</a>);
<a name="l00200"></a>00200                         }
<a name="l00201"></a>00201                         <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#ac377d15ac9f17e5cd85dae72e92b8ff4" title="The relative weight (between 0 and 1) to corresponding to angular distance between point normals and ...">normalDistanceWeight</a> != this-&gt;<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a93820469bed7b739ad59a870511dc143" title="The point normal based object model to be searched for in its parametric form.">objectModelUsingNormals</a>-&gt;<a class="code" href="classbrics__3d_1_1IObjectModelUsingNormals.html#a598d024dd8286b2a605e04824ab513a0" title="Get the relative weight variable indicating the angular distance between point normals and the plane ...">getNormalDistanceWeight</a> ())
<a name="l00202"></a>00202                         {
<a name="l00203"></a>00203                                 cout&lt;&lt; <span class="stringliteral">&quot;[SAC Segmentation] Setting normal distance weight to &quot;</span>&lt;&lt; this-&gt;<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#ac377d15ac9f17e5cd85dae72e92b8ff4" title="The relative weight (between 0 and 1) to corresponding to angular distance between point normals and ...">normalDistanceWeight</a> &lt;&lt;endl;
<a name="l00204"></a>00204                                 this-&gt;<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a93820469bed7b739ad59a870511dc143" title="The point normal based object model to be searched for in its parametric form.">objectModelUsingNormals</a>-&gt;<a class="code" href="classbrics__3d_1_1IObjectModelUsingNormals.html#a08e1206e04e4ebb252d869bcfbd0757f" title="Set the relative weight variable indicating the angular distance between point normals and the plane ...">setNormalDistanceWeight</a> (this-&gt;<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#ac377d15ac9f17e5cd85dae72e92b8ff4" title="The relative weight (between 0 and 1) to corresponding to angular distance between point normals and ...">normalDistanceWeight</a>);
<a name="l00205"></a>00205                         }
<a name="l00206"></a>00206                         <span class="keywordflow">break</span>;
<a name="l00207"></a>00207                 }
<a name="l00208"></a>00208                 <span class="keywordflow">case</span> <a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a55d5462dd4728fa10e9c9b1e6d99f674">OBJMODEL_NORMAL_PLANE</a>:
<a name="l00209"></a>00209                 {
<a name="l00210"></a>00210                         cout&lt;&lt;<span class="stringliteral">&quot;[SAC Segmentation] Using a model of type: OBJMODEL_NORMAL_PLANE&quot;</span>&lt;&lt;endl;
<a name="l00211"></a>00211                         this-&gt;<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a93820469bed7b739ad59a870511dc143" title="The point normal based object model to be searched for in its parametric form.">objectModelUsingNormals</a> = <span class="keyword">new</span> <a class="code" href="classbrics__3d_1_1ObjectModelNormalPlane.html">ObjectModelNormalPlane</a>();
<a name="l00212"></a>00212                         this-&gt;<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a93820469bed7b739ad59a870511dc143" title="The point normal based object model to be searched for in its parametric form.">objectModelUsingNormals</a>-&gt;<a class="code" href="classbrics__3d_1_1IObjectModel.html#a8dcb1324f2d9fe4a53b4af654fd42b7d" title="Provide a pointer to the input dataset.">setInputCloud</a>(this-&gt;<a class="code" href="classbrics__3d_1_1ISegmentation.html#a45d0d2aff3d94e05345b574b0c2052d3" title="The input point-cloud to be processed.">inputPointCloud</a>);
<a name="l00213"></a>00213                         <span class="comment">// Set the input normals</span>
<a name="l00214"></a>00214                         this-&gt;<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a93820469bed7b739ad59a870511dc143" title="The point normal based object model to be searched for in its parametric form.">objectModelUsingNormals</a>-&gt;<a class="code" href="classbrics__3d_1_1IObjectModelUsingNormals.html#a4bb6bde6ed6b30c738aa934b617e0762" title="Set the pointer to the normal-set for the corresponding input point cloud.">setInputNormals</a>(this-&gt;<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#afa6aea4c89fdd9ed0a76688608366d73" title="A pointer to the vector of normals.">normalSet</a>);
<a name="l00215"></a>00215 
<a name="l00216"></a>00216                         <span class="keywordflow">if</span> (<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#ac377d15ac9f17e5cd85dae72e92b8ff4" title="The relative weight (between 0 and 1) to corresponding to angular distance between point normals and ...">normalDistanceWeight</a> != this-&gt;<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a93820469bed7b739ad59a870511dc143" title="The point normal based object model to be searched for in its parametric form.">objectModelUsingNormals</a>-&gt;<a class="code" href="classbrics__3d_1_1IObjectModelUsingNormals.html#a598d024dd8286b2a605e04824ab513a0" title="Get the relative weight variable indicating the angular distance between point normals and the plane ...">getNormalDistanceWeight</a> ())
<a name="l00217"></a>00217                         {
<a name="l00218"></a>00218                                 cout&lt;&lt; <span class="stringliteral">&quot;[SAC Segmentation] Setting normal distance weight to &quot;</span>&lt;&lt; this-&gt;<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#ac377d15ac9f17e5cd85dae72e92b8ff4" title="The relative weight (between 0 and 1) to corresponding to angular distance between point normals and ...">normalDistanceWeight</a>;
<a name="l00219"></a>00219                                 this-&gt;<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a93820469bed7b739ad59a870511dc143" title="The point normal based object model to be searched for in its parametric form.">objectModelUsingNormals</a>-&gt;<a class="code" href="classbrics__3d_1_1IObjectModelUsingNormals.html#a08e1206e04e4ebb252d869bcfbd0757f" title="Set the relative weight variable indicating the angular distance between point normals and the plane ...">setNormalDistanceWeight</a>(this-&gt;normalDistanceWeight);
<a name="l00220"></a>00220                         }
<a name="l00221"></a>00221 
<a name="l00222"></a>00222                         <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a93820469bed7b739ad59a870511dc143" title="The point normal based object model to be searched for in its parametric form.">objectModelUsingNormals</a>-&gt;<a class="code" href="classbrics__3d_1_1IObjectModelUsingNormals.html#a276537ad25de5bd51d1e35b76badb8c6" title="Get the axis along which we need to search for a model perpendicular to.">getAxis</a>() != this-&gt;<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a4d16b9b4476c396351f8b27807d32432" title="Axis along which we need to search for a model perpendicular to.">axis</a>)
<a name="l00223"></a>00223                         {
<a name="l00224"></a>00224                                 cout&lt;&lt;<span class="stringliteral">&quot;[SAC Segmentation] Setting the axis to&quot;</span>&lt;&lt; <a class="code" href="namespacebrics__3d.html#a5fdb03eec9c29d0bad60c9627fb42df8">axis</a>[0] &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>
<a name="l00225"></a>00225                                                 &lt;&lt; <a class="code" href="namespacebrics__3d.html#a5fdb03eec9c29d0bad60c9627fb42df8">axis</a>[1] &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt;<a class="code" href="namespacebrics__3d.html#a5fdb03eec9c29d0bad60c9627fb42df8">axis</a>[2] &lt;&lt;endl;
<a name="l00226"></a>00226                                 this-&gt;<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a93820469bed7b739ad59a870511dc143" title="The point normal based object model to be searched for in its parametric form.">objectModelUsingNormals</a>-&gt;<a class="code" href="classbrics__3d_1_1IObjectModelUsingNormals.html#abf8f3160fcfddf23711e52eb2c93a8fc" title="Set the axis along which we need to search for a model perpendicular to.">setAxis</a>(<a class="code" href="namespacebrics__3d.html#a5fdb03eec9c29d0bad60c9627fb42df8">axis</a>);
<a name="l00227"></a>00227                         }
<a name="l00228"></a>00228                         <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a93820469bed7b739ad59a870511dc143" title="The point normal based object model to be searched for in its parametric form.">objectModelUsingNormals</a>-&gt;<a class="code" href="classbrics__3d_1_1IObjectModelUsingNormals.html#a9c76ad6744221222ed3a79a757adffbd" title="Get the angle threshold between the given axis and the model-normal.">getEpsAngle</a> () != this-&gt;<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a02838b21fc1c865dc57a7b4bbc83402e" title="The maximum angle between the model normal and the given axis.">epsAngle</a>)
<a name="l00229"></a>00229                         {
<a name="l00230"></a>00230                                 cout &lt;&lt; <span class="stringliteral">&quot;[SAC Segmentation] Setting the epsilon angle to &quot;</span>&lt;&lt; this-&gt;<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a02838b21fc1c865dc57a7b4bbc83402e" title="The maximum angle between the model normal and the given axis.">epsAngle</a>;
<a name="l00231"></a>00231                                 this-&gt;<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a93820469bed7b739ad59a870511dc143" title="The point normal based object model to be searched for in its parametric form.">objectModelUsingNormals</a>-&gt;<a class="code" href="classbrics__3d_1_1IObjectModelUsingNormals.html#a213b925157c7518d77fbe57f5625ae65" title="Set the angle epsilon (delta) threshold.">setEpsAngle</a> (this-&gt;epsAngle);
<a name="l00232"></a>00232                         }
<a name="l00233"></a>00233                         <span class="keywordflow">break</span>;
<a name="l00234"></a>00234                 }
<a name="l00235"></a>00235                 <span class="keywordflow">default</span>:
<a name="l00236"></a>00236                 {
<a name="l00237"></a>00237                         cout&lt;&lt;<span class="stringliteral">&quot;[OBJModelPlane : initSACModel] No valid model given!&quot;</span>;
<a name="l00238"></a>00238                         <span class="keywordflow">return</span> (<span class="keyword">false</span>);
<a name="l00239"></a>00239                 }
<a name="l00240"></a>00240                 }
<a name="l00241"></a>00241                 <span class="keywordflow">return</span> (<span class="keyword">true</span>);
<a name="l00242"></a>00242         }
<a name="l00243"></a>00243 
<a name="l00244"></a>00244 
<a name="l00245"></a>00245 
<a name="l00246"></a>00246 
<a name="l00250"></a>00250         <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a04178913dce542a9d53e228b31635dc8" title="Initialize the segmentation method and set the required parameters.">initSACMethod</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> methodType) {
<a name="l00251"></a><a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a04178913dce542a9d53e228b31635dc8">00251</a> 
<a name="l00252"></a>00252 
<a name="l00253"></a>00253 
<a name="l00254"></a>00254                 <span class="keywordflow">switch</span> (methodType) {
<a name="l00255"></a>00255                 <span class="keywordflow">case</span> <a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentation.html#a44f98f1cd44fd61d10a2352ff3326c3b" title="Defining the SAC methods supported.">SAC_ALMeDS</a>: {
<a name="l00256"></a>00256                         cout&lt;&lt;<span class="stringliteral">&quot;[SAC Segmentation] Using a method of type: SAC_ALMeDS with a model threshold of &quot;</span>&lt;&lt;<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentation.html#a372c7d4a508aa8ef3b1455b7748b2b7f" title="Threshold distance to model.">threshold</a>&lt;&lt;endl;
<a name="l00257"></a>00257                         <a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentation.html#a3a6ac0a6ea4b6960fdc8707e79ea66d6" title="The sample consensus method to be used for model parameter estimation.">sacMethod</a> = <span class="keyword">new</span> <a class="code" href="classbrics__3d_1_1SACMethodALMeDS.html">SACMethodALMeDS</a>();
<a name="l00258"></a>00258                         <a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentation.html#a3a6ac0a6ea4b6960fdc8707e79ea66d6" title="The sample consensus method to be used for model parameter estimation.">sacMethod</a>-&gt;<a class="code" href="classbrics__3d_1_1ISACMethods.html#aa3fc35727e40a8f8f9e4d277b68c82e1" title="Set the object model to be used.">setObjectModel</a>(<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a93820469bed7b739ad59a870511dc143" title="The point normal based object model to be searched for in its parametric form.">objectModelUsingNormals</a>);
<a name="l00259"></a>00259                         <a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentation.html#a3a6ac0a6ea4b6960fdc8707e79ea66d6" title="The sample consensus method to be used for model parameter estimation.">sacMethod</a>-&gt;<a class="code" href="classbrics__3d_1_1ISACMethods.html#af726fb40721f1ce700610c901dd260f0" title="Set the user-defined threshold distance to the model.">setDistanceThreshold</a>(<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentation.html#a372c7d4a508aa8ef3b1455b7748b2b7f" title="Threshold distance to model.">threshold</a>);
<a name="l00260"></a>00260                         <a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentation.html#a3a6ac0a6ea4b6960fdc8707e79ea66d6" title="The sample consensus method to be used for model parameter estimation.">sacMethod</a>-&gt;<a class="code" href="classbrics__3d_1_1ISACMethods.html#ab58b7b9cae2d2ec0fb64ce30872bc8bc" title="Set the pointcloud to be used.">setPointCloud</a>(<a class="code" href="classbrics__3d_1_1ISegmentation.html#a45d0d2aff3d94e05345b574b0c2052d3" title="The input point-cloud to be processed.">inputPointCloud</a>);
<a name="l00261"></a>00261                         <span class="keywordflow">break</span>;
<a name="l00262"></a>00262                 }
<a name="l00263"></a>00263                 <span class="keywordflow">case</span> <a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentation.html#abb5e2f3167d00df7274a6813e8a68a45">SAC_RANSAC</a>:
<a name="l00264"></a>00264                 {
<a name="l00265"></a>00265                         cout&lt;&lt; <span class="stringliteral">&quot;[SAC Segmentation] Using a method of type: SAC_RANSAC with a model threshold of &quot;</span>&lt;&lt;<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentation.html#a372c7d4a508aa8ef3b1455b7748b2b7f" title="Threshold distance to model.">threshold</a>&lt;&lt;endl;
<a name="l00266"></a>00266                         <a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentation.html#a3a6ac0a6ea4b6960fdc8707e79ea66d6" title="The sample consensus method to be used for model parameter estimation.">sacMethod</a> = <span class="keyword">new</span> <a class="code" href="classbrics__3d_1_1SACMethodRANSAC.html" title="class implementing the Random Sample Consensus based segmentation method.">SACMethodRANSAC</a>();
<a name="l00267"></a>00267                         <a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentation.html#a3a6ac0a6ea4b6960fdc8707e79ea66d6" title="The sample consensus method to be used for model parameter estimation.">sacMethod</a>-&gt;<a class="code" href="classbrics__3d_1_1ISACMethods.html#aa3fc35727e40a8f8f9e4d277b68c82e1" title="Set the object model to be used.">setObjectModel</a>(<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a93820469bed7b739ad59a870511dc143" title="The point normal based object model to be searched for in its parametric form.">objectModelUsingNormals</a>);
<a name="l00268"></a>00268 
<a name="l00269"></a>00269                         <a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentation.html#a3a6ac0a6ea4b6960fdc8707e79ea66d6" title="The sample consensus method to be used for model parameter estimation.">sacMethod</a>-&gt;<a class="code" href="classbrics__3d_1_1ISACMethods.html#af726fb40721f1ce700610c901dd260f0" title="Set the user-defined threshold distance to the model.">setDistanceThreshold</a>(<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentation.html#a372c7d4a508aa8ef3b1455b7748b2b7f" title="Threshold distance to model.">threshold</a>);
<a name="l00270"></a>00270                         <a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentation.html#a3a6ac0a6ea4b6960fdc8707e79ea66d6" title="The sample consensus method to be used for model parameter estimation.">sacMethod</a>-&gt;<a class="code" href="classbrics__3d_1_1ISACMethods.html#ab58b7b9cae2d2ec0fb64ce30872bc8bc" title="Set the pointcloud to be used.">setPointCloud</a>(<a class="code" href="classbrics__3d_1_1ISegmentation.html#a45d0d2aff3d94e05345b574b0c2052d3" title="The input point-cloud to be processed.">inputPointCloud</a>);
<a name="l00271"></a>00271                         <span class="keywordflow">break</span>;
<a name="l00272"></a>00272                 }
<a name="l00273"></a>00273                 <span class="keywordflow">case</span> <a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentation.html#ad61a4f5c03d28bcd2550ddb52dd63a46">SAC_LMEDS</a>: {
<a name="l00274"></a>00274                         cout&lt;&lt;<span class="stringliteral">&quot;[SAC Segmentation] Using a method of type: SAC_LMeDS with a model threshold of &quot;</span>&lt;&lt;<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentation.html#a372c7d4a508aa8ef3b1455b7748b2b7f" title="Threshold distance to model.">threshold</a>&lt;&lt;endl;
<a name="l00275"></a>00275                         <a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentation.html#a3a6ac0a6ea4b6960fdc8707e79ea66d6" title="The sample consensus method to be used for model parameter estimation.">sacMethod</a> = <span class="keyword">new</span> <a class="code" href="classbrics__3d_1_1SACMethodLMeDS.html" title="class implementing the MLESAC method.">SACMethodLMeDS</a>();
<a name="l00276"></a>00276                         <a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentation.html#a3a6ac0a6ea4b6960fdc8707e79ea66d6" title="The sample consensus method to be used for model parameter estimation.">sacMethod</a>-&gt;<a class="code" href="classbrics__3d_1_1ISACMethods.html#aa3fc35727e40a8f8f9e4d277b68c82e1" title="Set the object model to be used.">setObjectModel</a>(<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a93820469bed7b739ad59a870511dc143" title="The point normal based object model to be searched for in its parametric form.">objectModelUsingNormals</a>);
<a name="l00277"></a>00277 
<a name="l00278"></a>00278                         <a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentation.html#a3a6ac0a6ea4b6960fdc8707e79ea66d6" title="The sample consensus method to be used for model parameter estimation.">sacMethod</a>-&gt;<a class="code" href="classbrics__3d_1_1ISACMethods.html#af726fb40721f1ce700610c901dd260f0" title="Set the user-defined threshold distance to the model.">setDistanceThreshold</a>(<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentation.html#a372c7d4a508aa8ef3b1455b7748b2b7f" title="Threshold distance to model.">threshold</a>);
<a name="l00279"></a>00279                         <a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentation.html#a3a6ac0a6ea4b6960fdc8707e79ea66d6" title="The sample consensus method to be used for model parameter estimation.">sacMethod</a>-&gt;<a class="code" href="classbrics__3d_1_1ISACMethods.html#ab58b7b9cae2d2ec0fb64ce30872bc8bc" title="Set the pointcloud to be used.">setPointCloud</a>(<a class="code" href="classbrics__3d_1_1ISegmentation.html#a45d0d2aff3d94e05345b574b0c2052d3" title="The input point-cloud to be processed.">inputPointCloud</a>);
<a name="l00280"></a>00280                         <span class="keywordflow">break</span>;
<a name="l00281"></a>00281                 }
<a name="l00282"></a>00282                 <span class="keywordflow">case</span> <a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentation.html#a6f262a116f413fc7b9847d49404a09a5">SAC_MSAC</a>: {
<a name="l00283"></a>00283                         cout&lt;&lt;<span class="stringliteral">&quot;[SAC Segmentation] Using a method of type: SAC_MSAC with a model threshold of &quot;</span>&lt;&lt;<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentation.html#a372c7d4a508aa8ef3b1455b7748b2b7f" title="Threshold distance to model.">threshold</a>&lt;&lt;endl;
<a name="l00284"></a>00284                         <a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentation.html#a3a6ac0a6ea4b6960fdc8707e79ea66d6" title="The sample consensus method to be used for model parameter estimation.">sacMethod</a> = <span class="keyword">new</span> <a class="code" href="classbrics__3d_1_1SACMethodMSAC.html" title="class implementing the MSAC method.">SACMethodMSAC</a>();
<a name="l00285"></a>00285                         <a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentation.html#a3a6ac0a6ea4b6960fdc8707e79ea66d6" title="The sample consensus method to be used for model parameter estimation.">sacMethod</a>-&gt;<a class="code" href="classbrics__3d_1_1ISACMethods.html#aa3fc35727e40a8f8f9e4d277b68c82e1" title="Set the object model to be used.">setObjectModel</a>(<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a93820469bed7b739ad59a870511dc143" title="The point normal based object model to be searched for in its parametric form.">objectModelUsingNormals</a>);
<a name="l00286"></a>00286                         <a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentation.html#a3a6ac0a6ea4b6960fdc8707e79ea66d6" title="The sample consensus method to be used for model parameter estimation.">sacMethod</a>-&gt;<a class="code" href="classbrics__3d_1_1ISACMethods.html#af726fb40721f1ce700610c901dd260f0" title="Set the user-defined threshold distance to the model.">setDistanceThreshold</a>(<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentation.html#a372c7d4a508aa8ef3b1455b7748b2b7f" title="Threshold distance to model.">threshold</a>);
<a name="l00287"></a>00287                         <a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentation.html#a3a6ac0a6ea4b6960fdc8707e79ea66d6" title="The sample consensus method to be used for model parameter estimation.">sacMethod</a>-&gt;<a class="code" href="classbrics__3d_1_1ISACMethods.html#ab58b7b9cae2d2ec0fb64ce30872bc8bc" title="Set the pointcloud to be used.">setPointCloud</a>(<a class="code" href="classbrics__3d_1_1ISegmentation.html#a45d0d2aff3d94e05345b574b0c2052d3" title="The input point-cloud to be processed.">inputPointCloud</a>);
<a name="l00288"></a>00288                         <span class="keywordflow">break</span>;
<a name="l00289"></a>00289                 }
<a name="l00290"></a>00290                 <span class="keywordflow">case</span> <a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentation.html#a139ea32504c3f4771ba8fb2f36d048f5">SAC_MLESAC</a>: {
<a name="l00291"></a>00291                         cout&lt;&lt;<span class="stringliteral">&quot;[SAC Segmentation] Using a method of type: SAC_MLESAC with a model threshold of &quot;</span>&lt;&lt;<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentation.html#a372c7d4a508aa8ef3b1455b7748b2b7f" title="Threshold distance to model.">threshold</a>&lt;&lt;endl;
<a name="l00292"></a>00292                         <a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentation.html#a3a6ac0a6ea4b6960fdc8707e79ea66d6" title="The sample consensus method to be used for model parameter estimation.">sacMethod</a> = <span class="keyword">new</span> <a class="code" href="classbrics__3d_1_1SACMethodMLESAC.html" title="class implementing the MLESAC method.">SACMethodMLESAC</a>();
<a name="l00293"></a>00293                         <a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentation.html#a3a6ac0a6ea4b6960fdc8707e79ea66d6" title="The sample consensus method to be used for model parameter estimation.">sacMethod</a>-&gt;<a class="code" href="classbrics__3d_1_1ISACMethods.html#aa3fc35727e40a8f8f9e4d277b68c82e1" title="Set the object model to be used.">setObjectModel</a>(<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a93820469bed7b739ad59a870511dc143" title="The point normal based object model to be searched for in its parametric form.">objectModelUsingNormals</a>);
<a name="l00294"></a>00294                         <a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentation.html#a3a6ac0a6ea4b6960fdc8707e79ea66d6" title="The sample consensus method to be used for model parameter estimation.">sacMethod</a>-&gt;<a class="code" href="classbrics__3d_1_1ISACMethods.html#af726fb40721f1ce700610c901dd260f0" title="Set the user-defined threshold distance to the model.">setDistanceThreshold</a>(<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentation.html#a372c7d4a508aa8ef3b1455b7748b2b7f" title="Threshold distance to model.">threshold</a>);
<a name="l00295"></a>00295                         <a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentation.html#a3a6ac0a6ea4b6960fdc8707e79ea66d6" title="The sample consensus method to be used for model parameter estimation.">sacMethod</a>-&gt;<a class="code" href="classbrics__3d_1_1ISACMethods.html#ab58b7b9cae2d2ec0fb64ce30872bc8bc" title="Set the pointcloud to be used.">setPointCloud</a>(<a class="code" href="classbrics__3d_1_1ISegmentation.html#a45d0d2aff3d94e05345b574b0c2052d3" title="The input point-cloud to be processed.">inputPointCloud</a>);
<a name="l00296"></a>00296                         <span class="keywordflow">break</span>;
<a name="l00297"></a>00297                 }
<a name="l00298"></a>00298                 }
<a name="l00299"></a>00299 
<a name="l00300"></a>00300                 <span class="comment">// Set the Sample Consensus parameters if they are given/changed</span>
<a name="l00301"></a>00301                 <span class="keywordflow">if</span> (<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentation.html#a3a6ac0a6ea4b6960fdc8707e79ea66d6" title="The sample consensus method to be used for model parameter estimation.">sacMethod</a>-&gt;<a class="code" href="classbrics__3d_1_1ISACMethods.html#a3c0e4fbb5a2b45e99a9dd4aadcad4eb3" title="Obtain the probability of choosing at least one sample free from outliers.">getProbability</a>() != <a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentation.html#ae1183e4c1120eeacbc086a8b2038e24c" title="Probability of choosing at least one sample free from outliers.">probability</a>) {
<a name="l00302"></a>00302                         cout&lt;&lt;<span class="stringliteral">&quot;[SAC Segmentation] Setting the desired probability to &quot;</span>&lt;&lt; this-&gt;<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentation.html#ae1183e4c1120eeacbc086a8b2038e24c" title="Probability of choosing at least one sample free from outliers.">probability</a>&lt;&lt;endl;
<a name="l00303"></a>00303                         <a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentation.html#a3a6ac0a6ea4b6960fdc8707e79ea66d6" title="The sample consensus method to be used for model parameter estimation.">sacMethod</a>-&gt;<a class="code" href="classbrics__3d_1_1ISACMethods.html#a5c962066ca8bd88f95fc3b6762bc04c5" title="Set the desired probability of choosing at least one sample free from outliers.">setProbability</a>(<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentation.html#ae1183e4c1120eeacbc086a8b2038e24c" title="Probability of choosing at least one sample free from outliers.">probability</a>);
<a name="l00304"></a>00304                 }
<a name="l00305"></a>00305 
<a name="l00306"></a>00306                 <span class="keywordflow">if</span> (<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentation.html#aa88d49cdf6ef5c5f4b4b7e489cf61b3b" title="Maximum number of iterations for model estimation.">maxIterations</a>!= -1 &amp;&amp; <a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentation.html#a3a6ac0a6ea4b6960fdc8707e79ea66d6" title="The sample consensus method to be used for model parameter estimation.">sacMethod</a>-&gt;getMaxIterations()
<a name="l00307"></a>00307                                 != <a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentation.html#aa88d49cdf6ef5c5f4b4b7e489cf61b3b" title="Maximum number of iterations for model estimation.">maxIterations</a>) {
<a name="l00308"></a>00308                         cout&lt;&lt;<span class="stringliteral">&quot;[SAC Segmentation] Setting the maximum number of iterations to &quot;</span>&lt;&lt;<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentation.html#aa88d49cdf6ef5c5f4b4b7e489cf61b3b" title="Maximum number of iterations for model estimation.">maxIterations</a>&lt;&lt;endl;
<a name="l00309"></a>00309                         <a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentation.html#a3a6ac0a6ea4b6960fdc8707e79ea66d6" title="The sample consensus method to be used for model parameter estimation.">sacMethod</a>-&gt;setMaxIterations(<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentation.html#aa88d49cdf6ef5c5f4b4b7e489cf61b3b" title="Maximum number of iterations for model estimation.">maxIterations</a>);
<a name="l00310"></a>00310                 }
<a name="l00311"></a>00311         }
<a name="l00312"></a>00312 
<a name="l00313"></a>00313 
<a name="l00318"></a>00318         <span class="keywordtype">int</span>
<a name="l00319"></a>00319         <a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a0dbb56147ade8a30682e8942ae323677" title="Base method for finding of a model in the input point cloud.">segment</a> ()
<a name="l00320"></a><a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a0dbb56147ade8a30682e8942ae323677">00320</a>         {
<a name="l00321"></a>00321                 assert(this-&gt;<a class="code" href="classbrics__3d_1_1ISegmentation.html#a45d0d2aff3d94e05345b574b0c2052d3" title="The input point-cloud to be processed.">inputPointCloud</a> != 0);
<a name="l00322"></a>00322 
<a name="l00323"></a>00323                 <span class="comment">// Initialize the Sample Consensus model and set its parameters</span>
<a name="l00324"></a>00324                 <span class="keywordflow">if</span> (!<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#aebe6148cda00803c90eb81f2193c6c74" title="Initialize the Sample Consensus model and set its parameters.">initSACModel</a> (<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentation.html#a8a43cc43ca920fd6edbf029c8d130cab" title="Indicates the object model estimated.">modelType</a>))
<a name="l00325"></a>00325                 {
<a name="l00326"></a>00326                         cout&lt;&lt;<span class="stringliteral">&quot;[SAC Segmentation] Error initializing the SAC model!&quot;</span>&lt;&lt;endl;
<a name="l00327"></a>00327                         <span class="keywordflow">return</span> 0;
<a name="l00328"></a>00328                 }
<a name="l00329"></a>00329 
<a name="l00330"></a>00330                 <span class="comment">// Initialize the Sample Consensus method and set its parameters</span>
<a name="l00331"></a>00331                 <a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentationUsingNormals.html#a04178913dce542a9d53e228b31635dc8" title="Initialize the segmentation method and set the required parameters.">initSACMethod</a>(<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentation.html#a601421f2876ef45f70fe15636e73ca07" title="Indicates the sample consensus method used for estimating the model.">SACMethodType</a>);
<a name="l00332"></a>00332 
<a name="l00333"></a>00333                 <span class="comment">//Compute the model</span>
<a name="l00334"></a>00334 
<a name="l00335"></a>00335                 <span class="keywordflow">if</span> (!<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentation.html#a3a6ac0a6ea4b6960fdc8707e79ea66d6" title="The sample consensus method to be used for model parameter estimation.">sacMethod</a>-&gt;<a class="code" href="classbrics__3d_1_1ISACMethods.html#aac0814959d4ee6bbb114511a05035a75" title="Compute the actual model.">computeModel</a>())
<a name="l00336"></a>00336                 {
<a name="l00337"></a>00337                         cout&lt;&lt;<span class="stringliteral">&quot;[SAC Segmentation] Error segmenting the model! No solution found&quot;</span>&lt;&lt;endl;
<a name="l00338"></a>00338                 }
<a name="l00339"></a>00339 
<a name="l00340"></a>00340 
<a name="l00341"></a>00341                 <span class="comment">// Get the model inliers</span>
<a name="l00342"></a>00342                 <a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentation.html#a3a6ac0a6ea4b6960fdc8707e79ea66d6" title="The sample consensus method to be used for model parameter estimation.">sacMethod</a>-&gt;<a class="code" href="classbrics__3d_1_1ISACMethods.html#abd025b3e8d14b9408124ab1560abc806" title="Return the best set of inliers found so far for this model.">getInliers</a>(<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentation.html#a3f6f267435272418adee9d886bc28586" title="The point indices corresponding to the model computed in the last iteration.">inliers</a>);
<a name="l00343"></a>00343 
<a name="l00344"></a>00344 
<a name="l00345"></a>00345                 <span class="comment">// Get the model coefficients</span>
<a name="l00346"></a>00346                 <a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentation.html#a3a6ac0a6ea4b6960fdc8707e79ea66d6" title="The sample consensus method to be used for model parameter estimation.">sacMethod</a>-&gt;<a class="code" href="classbrics__3d_1_1ISACMethods.html#a79917bf53d5cf86638947dad0d741a57" title="Return the model coefficients of the best model found so far.">getModelCoefficients</a> (this-&gt;<a class="code" href="classbrics__3d_1_1RegionBasedSACSegmentation.html#a3cce254440a2a2ecc26642801bfa488c" title="The estimated model coefficients.">modelCoefficients</a>);
<a name="l00347"></a>00347 
<a name="l00348"></a>00348                 <span class="keywordflow">return</span> 1;
<a name="l00349"></a>00349 }
<a name="l00350"></a>00350 
<a name="l00351"></a>00351 };
<a name="l00352"></a>00352 
<a name="l00353"></a>00353 }
<a name="l00354"></a>00354 
<a name="l00355"></a>00355 <span class="preprocessor">#endif </span><span class="comment">/* BRICS_3D_REGIONBASEDSACSEGMENTATIONUSINGNORMALS_H_ */</span>
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Fri Oct 12 2012 11:11:17 for BRICS_3D_Perception_and_Modeling_Library(BRICS_3D) by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
